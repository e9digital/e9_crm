= f.fields_for resource.options do |ff|
  .field
    = f.label :name, nil, :class => :req
    = f.text_field :name

  .field{:class => request.xhr? ? 'tinymcexhr' : 'tinymce'}
    = f.label :template, nil, :class => :req
    = f.text_area :template

  - if request.xhr?
    - resource.region_type_ids.each_with_index do |id, i|
      = hidden_field_tag 'offer[region_type_ids][]', id, :id => "offer_region_type_ids_#{i}"
    - if resource.new_record?
      - resource.node_ids.each_with_index do |id, i|
        = hidden_field_tag 'offer[node_ids][]', id, :id => "offer_node_ids_#{i}"
  - else
    = render 'shared/admin/region_type_select', :f => f

  %fieldset.upload
    = render 'shared/form_partials/carrierwave_upload_field', :field => :file, :f => f
    .field
      = ff.label :download_link_text
      = ff.text_field :download_link_text

  .field
    = ff.label :success_alert_text
    = ff.text_field :success_alert_text

  .field
    = ff.label :success_page_text
    = ff.text_area :success_page_text

  .field
    = ff.label :success_alert_text
    = ff.text_field :success_alert_text

  .field
    = ff.label :conversion_alert_email
    = ff.text_field :conversion_alert_email

  .field
    = ff.label :custom_form_html
    = ff.text_area :custom_form_html
